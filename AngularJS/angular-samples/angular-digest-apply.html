<!DOCTYPE html>
<html lang="en" ng-app="testApp">

<head>
     <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
 
    <link href="../styles/bootstrap.min.css" rel="stylesheet">
    <link href="../styles/bootstrap-theme.min.css" rel="stylesheet">
    <link href="../styles/font-awesome.min.css" rel="stylesheet">
    <link href="../styles/bootstrap-social.css" rel="stylesheet">
    <link href="../styles/mystyles.css" rel="stylesheet">
    <script src="../angular-1.5.3/angular-1.5.3/angular.js"></script>
 
</head>

<body>

   <div ng-controller="myController">
    {{data.time}}

    <br/>
    <button ng-click="updateTime()">update time - ng-click</button>
    <button id="updateTimeButton"  >update time</button>
    </div>

<script type="text/javascript">
    
    var app = angular.module('testApp', []);

  var myController1 = app.controller("myController", function($scope) {
 
        $scope.data = { time : new Date() };

        $scope.updateTime = function() {
            $scope.data.time = new Date();
        }
        
        //$digest() calls all watches on current scope and their child scope.

//        document.getElementById("updateTimeButton")
//                .addEventListener('click', function() {
//            console.log("update time clicked");
//            $scope.data.time = new Date();
//            $scope.$digest();
//        });
      
        // $apply execute expression in angular from outside angular, It internally call $digest function
       document.getElementById("updateTimeButton")
                .addEventListener('click', function() {
            
           $scope.$apply(function(){
                console.log("update time clicked");
            $scope.data.time = new Date();
           })
           
           
        });
    });
    

</script>
</body>

</html>

